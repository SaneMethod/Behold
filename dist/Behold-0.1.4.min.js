/*!
 * Copyright (c) Christopher Keefer, 2017.
 * Behold: V0.1.4.
 * This file is generated by grunt - do not edit directly.
 * Alter source files as needed, then run `grunt` in project directory.
 * Compiled: 2017-06-19 
 */


!function(a,b,c){function d(){}d.extend=function(a,b){a=a||{},b=b||{};var e,f,g=this;return this===d?d.extend.apply(d.View,arguments):(e=a&&a.hasOwnProperty("constructor")?a.constructor:function(){return g.apply(this,arguments)},c.extend(e,g,b),f=function(){this.constructor=e},f.prototype=g.prototype,e.prototype=new f,c.extend(e.prototype,a),e.__super__=g.prototype,e)},d.View=function(a){this.cid=c.uniqueId("view"),this.options=a||{},this.$=b,this._=c,this._setOptions(),this._setEl(),this.bindUI(),this.attachEvents(),this.initialize.apply(this,arguments)},d.View.prototype._setOptions=function(){var a,b=this.options,c=["el","id","tagName","className","ui","events","template","region"];b&&(a=Object.keys(b),a.forEach(function(a){-1!==c.indexOf(a)&&(this[a]=b[a])},this))},d.View.prototype._setEl=function(){var a,d={},e=this.tagName;return this.el?void(this.$el=b(this.el)):(d=c.extend(d,this.options.attributes),d["class"]=this.className||void 0,d.id=this.id||void 0,a=b("<"+e+"></"+e+">").attr(d),this.$el=a,this.el=a[0],this.region=b(this.region),void this.attachElContent())},d.View.prototype.attachElContent=function(){var a=this.render();this.$el.append(a),this.region.empty().append(this.$el)},d.View.prototype.render=function(){var a=this.template?"function"==typeof this.template?this.template:c.template(b(this.template).html()):void 0;return a?a(this.options):""},d.View.prototype.getUISelector=function(a,b){var c;for(c=a[b];0===c.indexOf("@ui.");)c=c.split(" "),c=a[c[0].substr(4)]+" "+c.slice(1).join(" ");return c},d.View.prototype.bindUI=function(){var a,b=c.extend({},this._uiBindings||this.ui),d=this._uiCache={},e=this.$el;return b&&0!==Object.getOwnPropertyNames(b).length?(this._uiBindings||(this._uiBindings=c.extend({},b)),this.ui={},a=Object.keys(b),a.forEach(function(a){var c=this.getUISelector(b,a);Object.defineProperty(this.ui,a,{get:function(){return d[a]?d[a]:d[a]=e.find(c)}})},this),this):this},d.View.prototype.unBindUI=function(){var a,b=this.ui;return b&&this._uiBindings?(a=Object.keys(b),a.forEach(function(a){delete this.ui[a]},this),this.ui=c.extend({},this._uiBindings),delete this._uiBindings,this):this},d.View.prototype.attachEvents=function(){var a,b=this,c=this._uiBindings||this.ui,d=this.events,e=this.cid,f=this.$el,g=this._capturingListeners=this._capturingListeners||{};return d&&(a=Object.keys(d),a.forEach(function(a){var h,i,j=d[a],k=a.split(" ");return j="function"==typeof j?j:b[j],h=0===k[1].indexOf("@ui.")?b.getUISelector(c,k[1].substr(4)):k[1],i=k[0]+".dgbehold"+e,">"===i[0]?(i=k[0].substr(1),g[a]=j.bind(b),void f[0].addEventListener(i,g[a],!0)):void f.on(i,h,j.bind(b))})),this},d.View.prototype.detachEvents=function(){var a=this,b=this.$el,c=this.events,d=this.cid,e=Object.keys(c);return e.length&&(b.off(".dgbehold"+d),e.filter(function(a){return">"===a[0]}).forEach(function(c){var d,e=a._capturingListeners[c];d=c.split(" ")[0].substr(1),b[0].removeEventListener(d,e,!0)}),this._capturingListeners={}),this},d.View.prototype.remove=function(){return this.detachEvents(),this.$el.remove(),this},d.View.prototype.setElement=function(a,c,d){return this.$el&&!d&&(this.detachEvents(),this.unBindUI()),this.$el=a instanceof b?a:b(a),this.el=this.$el[0],c||(this.bindUI(),this.attachEvents()),this},d.View.prototype.initialize=function(){},d.View.extend=d.extend.bind(d.View),d.Router=function(a,b){this.controller=b.controller||b,this.routes=a,this.handlers=this._parseRoutes(),window.addEventListener("popstate",function(a){this._onChange(window.location.pathname,a.state||{})}.bind(this))},d.Router.optionalParam=/\((.*?)\)/g,d.Router.namedParam=/(\(\?)?:\w+/g,d.Router.splatParam=/\*\w+/g,d.Router.escapeRegExp=/[\-{}\[\]+?.,\\\^$|#\s]/g,d.Router._routeToRegExp=function(a){var b=d.Router;return a=a.replace(b.escapeRegExp,"\\$&").replace(b.optionalParam,"(?:$1)?").replace(b.namedParam,function(a,b){return b?a:"([^/?]+)"}).replace(b.splatParam,"([^?]*?)"),new RegExp("^"+a+"(?:\\?([\\s\\S]*))?$")},d.Router.navigate=function(a,b){var c=new Event("popstate");return b=b||{},window.history.pushState(b,document.title,a),c.state=b,window.dispatchEvent(c),this},d.Router._extractParameters=function(a,b){var d=a.exec(b).slice(1);return c.map(d,function(a,b){return b===d.length-1?a||null:a?decodeURIComponent(a):null})},d.Router.prototype._parseRoutes=function(){for(var a,b=Object.keys(this.routes),c=[],e=0,f=b.length;f>e;e++)a=this.routes[b[e]],a="string"==typeof a?this.controller[a]:a,c.push({route:d.Router._routeToRegExp(b[e]),callback:a.bind(this.controller)});return c},d.Router.prototype._onChange=function(a,b){var e;return c.some(this.handlers,function(c){return c.route.test(a)?(e=d.Router._extractParameters(c.route,a),c.callback.apply(null,e.concat([a,b])),!0):void 0})},d.Router.extend=d.extend.bind(d.Router),d.Application=function(){this.modules={}},d.Application.prototype.start=function(){var a,b=this.modules,c=[],e=[];for(var f in b)b.hasOwnProperty(f)&&(a=b[f],a.routes&&c.push(a),a.initialize&&"function"==typeof a.initialize&&e.push(a));c.forEach(function(a){a._router=new d.Router(a.routes,a)}),e.forEach(function(a){a.initialize()})},d.Application.prototype.module=function(a,d){var e=this.modules[a]=this.modules[a]||{},f=[e,this,b,c].concat(Array.prototype.slice.call(arguments,2));return d?(d.apply(e,f),this.modules[a]):this.modules[a]},a.Behold=d}(window,jQuery,_);
//# sourceMappingURL=Behold.min.map